# Image Pull Secret (How does it works in Kubernetes?)

Here, we are going to learn about image pull secrets like What is it? Why do we use it? How does it works. Everything about image pull secrets we are going to learn here.

### What is ImagePullSecret in Kubernetes?

Image pull secret in kubernetes is a type of secret which is to pull docker images from private contaier registry to run a pod in aks cluster.

```जो Public Container Registries होती हैं जैसे docker hub इन registries से docker image को yaml file मैं use करके Pod create करने से पोड create हो जायेगा क्युकी इस container registry को किसी भी Username और Password की जरुरत नहीं होती है क्युकी ये registry public registry होती हैं|```

```लेकिन जो Private container registries होती हैं जैसे Azure Container Registry है. इसको use करने के लिए हमको username और password की जरुरत होती है तो yaml मैं Image Pull Secrets के through हम Azure Container Registry को username और password provide करते हैं और docker image pull करके pod run करते हैं|```

**Expmple of Image Pull Secrets**

```
apiVersion: v1
kind: Namespace
metadata:
  creationTimestamp: null
  name: shipping-service
spec: {}
status: {}
---
apiVersion: v1
data:
  .dockerconfigjson: ewoJImF1dGhzIjogewoJCSJodHRwczovL2luZGV4LmRvY2tlci5pby92MS8iOiB7CgkJCSJhdXRoIjogImNIVnVaV1YwTVRwd2EzWXhNVFJBVWpreE1ERTVPVGs9IgoJCX0sCgkJInJlZ2lzdHJ5ZGV2YXVlYXN0MDAxLmF6dXJlY3IuaW8iOiB7CgkJCSJhdXRoIjogIk9EVmtOV1V6TlRrdE5XVTBPQzAwWmpBMUxXSmlPREl0WmpCbU1ERTFOekV5TnpCa09tUmhZamhSZm5kc2NtVldjVTAxVjNnNVpTNW5WeTE0WlRaRmIwSXhVRWR0WVhOWGQyeGlVVFk9IgoJCX0KCX0KfQ==
kind: Secret
metadata:
  creationTimestamp: null
  name: registry-secret-new
  namespace: shipping-service
type: kubernetes.io/dockerconfigjson
---
apiVersion: apps/v1
kind: Deployment
metadata:
 namespace: shipping-service
 name: shipping-service
 labels: 
  owner: Aquib
spec:
 replicas: 1
 selector:
  matchLabels:
   app : shipping-service
 template:
  metadata:
   labels:
    app : shipping-service
  spec:
   containers:
   - name: shipping-service
     image: registrydevaueast001.azurecr.io/shippingservice:#(dockertag)#
     imagePullPolicy: Always
     ports:
     - containerPort: 80
     resources:
      # limits:
      #  memory: 500Mi
      #  cpu: 30m
      requests:
        memory: 500Mi
        cpu: 30m
    #  Update the Key vault credentials here
     env:
      - name: KVClientId
        value: "ff7e2427-18ef-4373-a0ea-f9d60536e3c1"
      - name: KVClientSecret
        value: "ra-bu-~1pp.LStD_5foY3N76oXm6s5gZyA"
      - name: KVEndpoint
        value: "https://shipping-vault-dev-001.vault.azure.net/"
      - name: ASPNETCORE_ENVIRONMENT
        value: "Dev001"  
   imagePullSecrets:
      - name: registry-secret-new
```
