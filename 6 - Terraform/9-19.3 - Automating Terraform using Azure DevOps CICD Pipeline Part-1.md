# Automating IAC using Azue DevOps CI/CD Pipeline

We are going to create a CI/CD pipeline to automate the terraform Infrastructure as a Code. 

Aaj Hum Infrastructure as Code (IAC) Ko Azure DevOps CI/CD pipeline ke through automate karenge, iska matlab hai ki CI/CD pipeline ke through terraform ka use hoke infrastructure Azure cloud par create ho jaega. 

<br>
<br>

### Terraform without CI/CD kaise kaam karta hai

Terraform bina CI/CD ke normal use karne par kaise kaam karta hai, Ye terraform ka use kaise karte hain:

Sabse pehle hum terraform ki files ko create karte hain, jisme, ```main.tf```, ```providers.tf```, ```backend.tf```, ```terraform.tfvars```, ```variables.tf```. In files mein jo resource cloud pe create karna hai unki configuration likhi jati hai. Fir hum kuch commands run karte hain jisse cloud par resource create ho jate hain:

Commands Jaise:
- terraform init.
- terraform validate.
- terraform fmt.
- terraform plan.
- terraform apply.

In commands ko run karne ke baad cloud par resource create ho jata hai.

Explanation of these commands:

**Step-1: Terraform init**:
- Ye terraform se infrastructure create karne ka pehle step hota hai. ```terraform init``` command Terraform project ko initialize karta hai, jiske ander kaafi operations hote hain, Jaise:
  - Working directory taiyar karna.
  - Providers download karna.
  - Backend configure karna.
  - State management setup karna.
  - Modules ko download karna.

- Ye command ke baad terraform ready hota hai cloud par infrastructure create karne ke liye.

<br>

**Step-2: Terraform validate**
- ```terraform validate``` command terraform ki ```.tf``` files ke syntax ko check karti hai ki koi syntax error ya for koi structure issue to nhi hai. 

<br>

**Step-3: Terraform fmt**:
- ```terraform fmt``` command terraform ki ```.tf``` files ko format karta hai matlab files ke indentation aur spacing fix karta hai.

**Step-4: Terraform plan**:
- ```Terraform plan``` batata hai ki terraform configuration (jisko .tf file bolte hain) kya create, update aur destory karegi.
- Ye command pehle state file ko read karti hai ki state file ke according cloud mein kon konse resource bane hue hain, fir cloud se live resources ki details ko fetch karta hai ki kon konse resource bane hue hain. Fir tumhari terraform files ko check karta hai ki tum kon konse resource create karna chate ho, update karna chate ho ya delete karna chate ho.
- Is teeno ko compare karke tumko batata hai ki kya create hoga, kya update hoga, aur kya delete hoga.

<br>

**Step-3: Terraform Apply**:
- ```Terraform apply``` command terraform files mein likhi hui configuration ke according cloud mein resource create karta hai.

<br>
<br>

### Terraform CI/CD pipeline mein kaise kaam karta hai

Terraform ko CI/CD pipeline ke through automate karne ka ek flow hai, jo Azure DevOps ke through hum karenge.

<img src="https://drive.google.com/uc?export=view&id=1Dn9P0LTuFO9olJVK58uyaZ0tpQ8XEkVI" width="600" height="330">
